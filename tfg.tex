\documentclass[11pt]{article}
\usepackage{cite}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amsthm}

\newtheorem{axiom}{Axiom}
\setcounter{axiom}{-1}
\newtheorem{klaxiom}{KL Axiom}
\newtheorem{proposition}{Proposition}[section]

\theoremstyle{definition}
\newtheorem{defn}{Definition}[section]

\begin{document}

\section{The basic theory}

The axiomatic theory of Synthetic Differential Geometry begins by assuming a certain topos \( \mathcal{E} \) exists. A topos is a category with certain properties which are meant to abstract the way in which the category of sets behaves. In fact, most naive set theoretic and logical notions have meaningful interpretation in terms of objects and morphisms of a topos. Thus, from this point on we will mainly omit the fact that we are working in a topos, and use standard set theoretic notation, giving only brief reminders now and then. 

\subsection{Axiomatics}

We begin with an object \( R \). We can think of \( R \) as an extension of the notion of the standard continuum, \( \mathbb{R} \). Thus \( R \) should be a commutative ring with unit. However, due to an axiom that we will shortly introduce, we cannot ask that \( R \) be a field. Later on, we will need to strengthen this requirement to, for example ``2:=1+1 is invertible''. But later on we may need that ``3 is invertible''. Instead of introducing these small axioms successively, we will take care of them succintly with our:

\begin{axiom}
  \label{ax0}
  \( R \) is a \( \mathbb{Q} \)-algebra.
\end{axiom}

With that out of the way, we proceed to introduce a central object of study, the ``infinitesimals''. These come in the form of nilpotent elements of \( R \). To be precise, let \( D = \{d\in R \mid d^2=0\} \). The (first version of the) defining axiom of SDG concerns \( D \), and as in all the literature we refer to it as the Kock-Lawvere axiom.

\begin{klaxiom}
  \label{KL1}
  For all \( f:D\to R \) there exist unique \( a,b\in R \) such that \( f(d) = a + bd\,\forall d\in D \)
\end{klaxiom}

Note that, in particular, \( a=f(0) \). Of course, this is a strong requirement. So strong in fact, that we will have to weaken our logic in order for the theory to be remotely interesting. This is because of the following proposition.

\begin{proposition}
  \label{0prop}
  \( R=\{0\} \)
\end{proposition}

\begin{proof}
  Let \( f:D\to R \) be defined by
  \[
    f(d) =
    \left\{ 
      \begin{aligned}
	1,& & d \neq 0 \\
	0,& & d = 0
      \end{aligned}
    \right.
  \]
By the KL axiom \ref{KL1}, there exist unique \( a,b\in R \) such that \( f(d) = a + bd \) for all \( d \). Since \( a =  f(0) = 0 \), there exists \( b\in R \) such that \( f(d) = bd \) for all \( d \). Thus for non-zero \( d \) we have \( 1 = bd \). Squaring both sides yields \( 1 = 0 \), and since \( R \) is a ring this concludes the proof.
\end{proof}

However, the above proof relies on the ``fact'' that, for any \( x\in R \) we have either \( x = 0 \) or \( x\neq0 \). Indeed the well-definedness of the function \( f \) depends on this assertion. This is true in classical logic, as it is a simple application of the \textbf{Law of the Excluded Middle} (LEM):
\[
  \forall p\, p\vee \neg p
\].

To carry on with our theory, we see that we have to reject LEM. The above proof then fails, but of course just because of that we cannot conclude that the theory functions properly. To do so would by all means require exhibiting the category \( \mathcal{E} \) explicitly. For now we will continue ignoring this, and develop the naive theory, knowing that we have to abstain from assuming LEM.

\subsection{Elementary Calculus}

With our basic axiom scheme in place we can begin revisiting the classical notion of a derivative in this new context. We begin, as expected, with a function \( f:R\to R \). Fix \( x\in R \) and define a new function \( g:D\to R \) by
\[
  d\mapsto f(x+d)
\]
By the KL axiom \ref{KL1} there are unique \( a,b\in R \) such that
\[
  \forall d\in D\, f(x+d) = f(x)+bd
\]
(since \( g(0) = f(x) \)). This naturally leads to the following
\begin{defn}
  Let \( f:R\to R \). The \textit{derivative} of \( f \) at \( x \), denoted \( f'(x) \), is the unique \( b\in R \) such that \( f(x+d)=f(x)+bd\,\forall d\in D \).
  \label{def:1varder}
\end{defn}

Clearly this also allows us to define the derivative \textit{function} \( f':R\to R \). For instance, let us calculate the derivative of a simple polynomial function. Let \( f:x\mapsto x^2+x \) then
\begin{align*}
  f(x+d) & =  x^2+2xd + d^2 + x + d \\ 
         & =  x^2 + x + (2x+1)d
\end{align*}
by which \( f'(x)=2x+1 \). So far our ``formal'' calculus agrees with standard calculus. In fact, we have the following proposition:

\begin{proposition}
  Let \( f,g:R\to R \) and let \(\alpha\in R.\) The following hold:
  \begin{enumerate}
    \item \((f+g)' = f'+g'\)
    \item \((\alpha f)' = \alpha f'\)
    \item \((fg)' = f'g + fg'\)
  \end{enumerate}
\end{proposition}
\begin{proof}
  The proof is as simple as one could suspect, here we only prove the third identity as an example. We have:
  \begin{align*}
    f(x+d)g(x+d) & = (f(x)+f'(x)d)(g(x)+g'(x)d) \\
                 & = f(x)g(x) + (f'(x)g(x)+f(x)g'(x))d + f'(x)g'(x)d^2 \\
		 & = f(x)g(x) + (f'(x)g(x)+f(x)g'(x))d  
    \label{eq:prodrule}
  \end{align*}
  At a given \( x\in R \), this clearly holds for all \( d\in D \), giving us the result.
\end{proof}

Furthermore we have the Chain Rule:
\begin{proposition}
  Let \( f,g:R\to E \) be two functions. Then the derivative of the composite \( g\circ f \) is
  \[
    (f\circ g) = (f'\circ g)\cdot g'
  \]
\end{proposition}
\begin{proof}
  Let \( x\in R \). Then
  \[
   (f\circ g)(x+d) = f(g(x)) + (f\circ g)'(x)d
  \]
  by definition. Meanwhile, if we expand \( g(x+d) \) first:
  \begin{align*}
    (f\circ g)(x+d) & = f(g(x+d)) \\
                    & = f(g(x)+g'(x)d) \\
  \end{align*}
  Observe that \( g'(x)d\in D \), since \( (g'(x)d)^2 = g'(x)^2d^2 = 0 \). Now, \( f'(g(x)) \) is the unique coefficient satisfying
  \[
    f(g(x)+g'(x)d) = f(g(x)) + f'(g(x))g'(x)d
  \]
\end{proof}

The reader may notice that these statements seem lazily worded. Normally, we would include in the hypotheses something like ``\textit{Let \( f,g:R\to R \) be} differentiable \textit{functions. Then} (some other function) \textit{is differentiable, and \dots etc.}'' We are not in fact forgetting hypotheses. The Kock-Lawvere Axiom \ref{KL1} actually implies that \textit{every} function from \( R \) to \( R \) is differentiable. This is easy to verify by noting that in the definition of the derivative (\ref{def:1varder}), no additional assumptions are made other than \( f \) being a function. As a direct consequence, every function from \( R \) to \( R \) is infinitely differentiable.

This leads us to ask if we also have Taylor expansions of functions. In classical calculus, a Taylor expansion of second order involves a second degree polynomial, and ``terms of order 3''. In our context, these are simply nilcube elements, i.e. \( \delta\in R : \delta^3 = 0 \). An example of such a nilcube is any \( d_1+d_2 \) where \( d_1,d_2 \) are both in \( D \). In effect,
\[
  (d_1+d_2)^3 = d_1^3 + d_2^3 + 3d_1^2d_2 + 3d_1d_2^2 = 0
\]

Furthermore, if \( f:R\to R\) is a function, 
\begin{align*}
  f(x+d_1+d_2) & = f(x+d_1)+f'(x+d_1)d_2
               & = f(x) + f'(x)d_1 + f'(x)d_2 + f''(x)d_1d_2
\end{align*}
and meanwhile,
\begin{align*}
  (d_1+d_2)^2 & = 2d_1d_2
\end{align*}
Joining the two together yields:
\[
  f(x+d_1+d_2) = f(x) + f'(x)(d_1+d_2) + \frac{f''(x)}{2}(d_1+d_2)^2
\]

What we have just proven is the following proposition.
\begin{proposition}
  If \( f:R\to R \) is a function and \( d_1,d_2\in D \), then \( \delta = d_1+d_2 \) satisfies
  \[
    f(x+\delta) = f(x) + f'(x)\delta + \frac{f''(x)}{2}\delta^2
  \]

\end{proposition}

This justifies the earlier heuristic of considering nilcubes as candidates for second order Taylor expansions. Unfortunately, there is no way to assert as of now that \textit{any} nilcube must be of the form \( d_1+d_2 \) with \( d_1,d_2\in D \). It is a partial result. In section {placeholder} we will introduce Taylor expansions for every nilpotent element by way of an axiom that generalizes the KL axiom \ref{KL1}. 


\clearpage
\nocite{*}
\bibliography{tfg}
\bibliographystyle{plain}
\end{document}






